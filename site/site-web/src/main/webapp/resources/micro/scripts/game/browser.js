"use strict";var Bridge={};!function(n,t){function h(n,t,u,f){var h,c,l,s,a,v;for(i+=1,o[i]=function(n){u({content:n},f)},h=!1,s=0;s<t.length;s++)if(t[s].wxAPI==1){h=!0;break}if(l=[],h){for(s=0;s<t.length;s++){a=[];for(v in t[s])a.push(v+"="+encodeURIComponent(t[s][v]));l.push(a.join("&"))}c=n+(n.indexOf("?")>-1?"&":"?")+"output=jsonp&callback=jsonpCallback["+i+"]&"+l.join("&")}else c=r.sign+"callback=jsonpCallback["+i+"]&urlname="+n+"&param="+JSON.stringify(t)+"&method=post";e(c)}function c(n,t){(new Image).src=r.log+"?key="+encodeURIComponent(n)+"&value="+encodeURIComponent(t)}function l(t){f=n.encodeURIComponent(t);u=="android"?e("http://127.0.0.1:6677/getpackageinfo?callback=foo"):s()}function e(n){var i=t.createElement("script");i.setAttribute("type","text/javascript");i.src=n;t.querySelector("head").appendChild(i)}function s(){var t=u+"amap://openFeature?featureName=OpenURL&sa=1&sourceApplication=banner&url="+f+"&urlType=0&contentType=autonavi";n.location.href=t}var r,i=0,u=navigator.userAgent.match(/iphone|ipad|ipod/i)?"ios":"android",f,o={};r=/amap\.com/i.test(location.host)&&!/testing/i.test(location.host)?{sign:"http://wb.amap.com/channel/aosdatacommon?",log:"http://oss.amap.com/ws/h5_log"}:{sign:"http://wb.testing.amap.com/channel/aosdatacommon?",log:"http://oss.testing.amap.com/ws/h5_log"};Bridge={os:u,send:function(n,t){switch(n.action){case"aosrequest":h(n.urlPrefix,n.params,t);break;case"logUserAction":var i=JSON.parse(n.para);c(i.page,i.click);break;case"openApp":l(n.bannerUrl)}}};n.jsonpCallback=o}(window,document);window.define&&define("God.Bridge",Bridge);